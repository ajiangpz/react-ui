{"version":3,"file":"dep-CVM4W9uS.js","sources":["../../../components/utils/parseTNode.ts"],"sourcesContent":["import React, { ReactElement, ReactNode } from 'react';\r\nimport { isFunction } from 'lodash-es';\r\nimport { TNode } from '@/common';\r\n\r\n// 解析 TNode 数据结构\r\nexport default function parseTNode(\r\n  renderNode: TNode | TNode<any> | undefined,\r\n  renderParams?: any,\r\n  defaultNode?: ReactNode,\r\n): ReactNode {\r\n  let node: ReactNode = null;\r\n\r\n  if (typeof renderNode === 'function') {\r\n    node = renderNode(renderParams);\r\n  } else if (renderNode === true) {\r\n    node = defaultNode;\r\n  } else if (renderNode !== null) {\r\n    node = renderNode ?? defaultNode;\r\n  }\r\n  return node as ReactNode;\r\n}\r\n\r\n/**\r\n * 解析各种数据类型的 TNode\r\n * 函数类型：content={(props) => <Icon></Icon>}\r\n * 组件类型：content={<Button>click me</Button>} 这种方式可以避免函数重复渲染，对应的 props 已经注入\r\n * 字符类型\r\n */\r\nexport function parseContentTNode<T>(tnode: TNode<T>, props: T) {\r\n  if (isFunction(tnode)) return tnode(props) as ReactNode;\r\n  if (!tnode || ['string', 'number', 'boolean'].includes(typeof tnode))\r\n    return tnode as ReactNode;\r\n  try {\r\n    return React.cloneElement(tnode as ReactElement, { ...props });\r\n  } catch (e) {\r\n    console.warn('parseContentTNode', `${tnode} is not a valid ReactNode`);\r\n    return null;\r\n  }\r\n}\r\n"],"names":["parseTNode","renderNode","renderParams","defaultNode","node","parseContentTNode","tnode","props","isFunction","includes","_typeof","React","cloneElement","_objectSpread","e","console","warn","concat"],"mappings":";;;;;;;AAIA;AACe,SAASA,UAAUA,CAChCC,UAA0C,EAC1CC,YAAkB,EAClBC,WAAuB,EACZ;EACX,IAAIC,IAAe,GAAG,IAAI;AAE1B,EAAA,IAAI,OAAOH,UAAU,KAAK,UAAU,EAAE;AACpCG,IAAAA,IAAI,GAAGH,UAAU,CAACC,YAAY,CAAC;AACjC,EAAA,CAAC,MAAM,IAAID,UAAU,KAAK,IAAI,EAAE;AAC9BG,IAAAA,IAAI,GAAGD,WAAW;AACpB,EAAA,CAAC,MAAM,IAAIF,UAAU,KAAK,IAAI,EAAE;AAC9BG,IAAAA,IAAI,GAAGH,UAAU,KAAA,IAAA,IAAVA,UAAU,KAAA,KAAA,CAAA,GAAVA,UAAU,GAAIE,WAAW;AAClC,EAAA;AACA,EAAA,OAAOC,IAAI;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,iBAAiBA,CAAIC,KAAe,EAAEC,KAAQ,EAAE;EAC9D,IAAIC,UAAU,CAACF,KAAK,CAAC,EAAE,OAAOA,KAAK,CAACC,KAAK,CAAC;AAC1C,EAAA,IAAI,CAACD,KAAK,IAAI,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,CAAC,CAACG,QAAQ,CAAAC,OAAA,CAAQJ,KAAK,CAAA,CAAC,EAClE,OAAOA,KAAK;EACd,IAAI;IACF,oBAAOK,KAAK,CAACC,YAAY,CAACN,KAAK,EAAAO,aAAA,CAAA,EAAA,EAAuBN,KAAK,CAAE,CAAC;EAChE,CAAC,CAAC,OAAOO,CAAC,EAAE;IACVC,OAAO,CAACC,IAAI,CAAC,mBAAmB,KAAAC,MAAA,CAAKX,KAAK,EAAA,2BAAA,CAA2B,CAAC;AACtE,IAAA,OAAO,IAAI;AACb,EAAA;AACF;;;;"}