{"version":3,"file":"dep-DOfB01id.js","sources":["../../../components/dialog/defaultProps.ts","../../../components/dialog/DialogCard.tsx"],"sourcesContent":["/**\r\n * 该文件为脚本自动生成文件，请勿随意修改。如需修改请联系 PMC\r\n * */\r\n\r\nimport { TdDialogCardProps, TdDialogProps } from './type';\r\n\r\nexport const dialogCardDefaultProps: TdDialogCardProps = {\r\n  closeBtn: true,\r\n  footer: true,\r\n  header: true,\r\n  theme: 'default',\r\n};\r\n\r\nexport const dialogDefaultProps: TdDialogProps = {\r\n  closeOnEscKeydown: undefined,\r\n  closeOnOverlayClick: undefined,\r\n  destroyOnClose: false,\r\n  draggable: false,\r\n  mode: 'modal',\r\n  placement: 'top',\r\n  preventScrollThrough: true,\r\n  showInAttachedElement: false,\r\n  showOverlay: true,\r\n  lazy: true,\r\n};\r\n","import React, { forwardRef, isValidElement } from 'react';\r\nimport classNames from 'classnames';\r\nimport { isString, isObject, isFunction } from 'lodash-es';\r\nimport {\r\n  IconClose as TdCloseIcon,\r\n  IconInfoCircle as TdInfoCircleFilledIcon,\r\n  IconCheckCircleStroked as TdCheckCircleFilledIcon\r\n} from 'tendaui-react-icons';\r\nimport Button, { ButtonProps } from '../button';\r\nimport { TdDialogCardProps } from './type';\r\nimport { StyledProps, TNode } from '../common';\r\nimport parseTNode from '../utils/parseTNode';\r\nimport useConfig from '../hooks/useConfig';\r\nimport useGlobalIcon from '../hooks/useGlobalIcon';\r\n// import { useLocaleReceiver } from '../locale/LocalReceiver';\r\nimport { dialogCardDefaultProps } from './defaultProps';\r\nimport useDefaultProps from '../hooks/useDefaultProps';\r\n\r\nexport interface DialogCardProps\r\n  extends TdDialogCardProps,\r\n    StyledProps,\r\n    React.HTMLAttributes<HTMLDivElement> {\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst renderDialogButton = (\r\n  btn: DialogCardProps['cancelBtn'],\r\n  defaultProps: ButtonProps\r\n) => {\r\n  let result = null;\r\n\r\n  if (isString(btn)) {\r\n    result = <Button {...defaultProps}>{btn as TNode}</Button>;\r\n  } else if (isValidElement(btn)) {\r\n    result = btn;\r\n  } else if (isObject(btn)) {\r\n    result = <Button {...defaultProps} {...(btn as {})} />;\r\n  } else if (isFunction(btn)) {\r\n    result = (btn as Function)();\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst DialogCard = forwardRef<HTMLDivElement, DialogCardProps>((props, ref) => {\r\n  const { classPrefix } = useConfig();\r\n  const componentCls = `${classPrefix}-dialog`;\r\n  const {\r\n    CloseIcon,\r\n    InfoCircleFilledIcon,\r\n    CheckCircleFilledIcon\r\n  } = useGlobalIcon({\r\n    CloseIcon: TdCloseIcon,\r\n    InfoCircleFilledIcon: TdInfoCircleFilledIcon,\r\n    CheckCircleFilledIcon: TdCheckCircleFilledIcon\r\n  });\r\n  // const [local, t] = useLocaleReceiver('dialog');\r\n  // const confirmText = t(local.confirm);\r\n  // const cancelText = t(local.cancel);\r\n  const confirmText = '确认';\r\n  const cancelText = '取消';\r\n  const {\r\n    theme,\r\n    header,\r\n    closeBtn,\r\n    footer,\r\n    body,\r\n    children,\r\n    className,\r\n    onCancel,\r\n    onConfirm,\r\n    onCloseBtnClick,\r\n    cancelBtn = cancelText,\r\n    confirmBtn = confirmText,\r\n    confirmLoading,\r\n    ...otherProps\r\n  } = useDefaultProps<DialogCardProps>(props, dialogCardDefaultProps);\r\n\r\n  const renderHeaderContent = () => {\r\n    const iconMap = {\r\n      info: <InfoCircleFilledIcon className={`${classPrefix}-is-info`} />,\r\n      warning: <InfoCircleFilledIcon className={`${classPrefix}-is-warning`} />,\r\n      // error is going to deprecated\r\n      error: <InfoCircleFilledIcon className={`${classPrefix}-is-error`} />,\r\n      danger: <InfoCircleFilledIcon className={`${classPrefix}-is-error`} />,\r\n      success: <CheckCircleFilledIcon className={`${classPrefix}-is-success`} />\r\n    };\r\n\r\n    return (\r\n      <div className={`${componentCls}__header-content`}>\r\n        {iconMap[theme]}\r\n        {header}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderCloseBtn = () => {\r\n    if (!closeBtn) {\r\n      return null;\r\n    }\r\n\r\n    const closeIcon = () => (closeBtn === true ? <CloseIcon /> : closeBtn);\r\n\r\n    return (\r\n      <span\r\n        className={`${componentCls}__close`}\r\n        style={{\r\n          marginLeft: 'auto'\r\n        }}\r\n        onClick={(e: React.MouseEvent<HTMLDivElement>) =>\r\n          onCloseBtnClick?.({ e })\r\n        }\r\n      >\r\n        {closeIcon() as React.ReactNode}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const renderHeader = () => (\r\n    <div className={classNames(`${componentCls}__header`)}>\r\n      {renderHeaderContent()}\r\n      {renderCloseBtn()}\r\n    </div>\r\n  );\r\n\r\n  const renderFooter = () => {\r\n    const defaultFooter = () => {\r\n      const renderCancelBtn = renderDialogButton(cancelBtn, {\r\n        variant: 'outline',\r\n        onClick: (e: React.MouseEvent<HTMLButtonElement>) => onCancel?.({ e }),\r\n        className: classNames(\r\n          `${componentCls}__cancel`,\r\n          (cancelBtn as any)?.props?.className\r\n        )\r\n      });\r\n      const renderConfirmBtn = renderDialogButton(confirmBtn, {\r\n        theme: 'primary',\r\n        loading: confirmLoading,\r\n        onClick: (e: React.MouseEvent<HTMLButtonElement>) => onConfirm?.({ e }),\r\n        className: classNames(\r\n          `${componentCls}__confirm`,\r\n          (confirmBtn as any)?.className\r\n        )\r\n      });\r\n\r\n      return (\r\n        <>\r\n          {renderCancelBtn}\r\n          {renderConfirmBtn}\r\n        </>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <div className={`${componentCls}__footer`}>\r\n        {parseTNode(footer, null, defaultFooter())}\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      {...otherProps}\r\n      className={classNames(\r\n        componentCls,\r\n        `${componentCls}--default`,\r\n        className\r\n      )}\r\n    >\r\n      {!!header && renderHeader()}\r\n      <div className={`${componentCls}__body`}>\r\n        {(body || children) as React.ReactNode}\r\n      </div>\r\n      {!!footer && renderFooter()}\r\n    </div>\r\n  );\r\n});\r\n\r\nDialogCard.displayName = 'DialogCard';\r\n\r\nexport default DialogCard;\r\n"],"names":["dialogCardDefaultProps","closeBtn","footer","header","theme","dialogDefaultProps","closeOnEscKeydown","undefined","closeOnOverlayClick","destroyOnClose","draggable","mode","placement","preventScrollThrough","showInAttachedElement","showOverlay","lazy","renderDialogButton","btn","defaultProps","result","isString","React","createElement","Button","isValidElement","isObject","_extends","isFunction","DialogCard","forwardRef","props","ref","_useConfig","useConfig","classPrefix","componentCls","concat","_useGlobalIcon","useGlobalIcon","CloseIcon","TdCloseIcon","InfoCircleFilledIcon","TdInfoCircleFilledIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","confirmText","cancelText","_useDefaultProps","useDefaultProps","body","children","className","onCancel","onConfirm","onCloseBtnClick","_useDefaultProps$canc","cancelBtn","_useDefaultProps$conf","confirmBtn","confirmLoading","otherProps","_objectWithoutProperties","_excluded","renderHeaderContent","iconMap","info","warning","error","danger","success","renderCloseBtn","closeIcon","style","marginLeft","onClick","e","renderHeader","classNames","renderFooter","defaultFooter","_props","renderCancelBtn","variant","renderConfirmBtn","loading","Fragment","parseTNode","displayName"],"mappings":"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"}