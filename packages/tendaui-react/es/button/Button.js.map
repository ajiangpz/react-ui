{"version":3,"file":"Button.js","sources":["../../../components/button/defaultProps.ts","../../../components/button/Button.tsx"],"sourcesContent":["import { TdButtonProps } from './type';\r\n\r\nexport const buttonDefaultProps: TdButtonProps = {\r\n  block: false,\r\n  disabled: false,\r\n  form: undefined,\r\n  ghost: false,\r\n  loading: false,\r\n  shape: 'rectangle',\r\n  size: 'medium',\r\n  type: 'button',\r\n  variant: 'base',\r\n};\r\n","import React, { useMemo, forwardRef } from \"react\";\r\nimport classNames from \"classnames\";\r\nimport useConfig from \"../hooks/useConfig\";\r\nimport Loading from \"../loading\";\r\nimport { TdButtonProps } from \"./type\";\r\nimport { buttonDefaultProps } from \"./defaultProps\";\r\nimport parseTNode from \"../utils/parseTNode\";\r\nimport useDefaultProps from \"../hooks/useDefaultProps\";\r\n\r\nexport interface ButtonProps\r\n  extends Omit<\r\n    React.AllHTMLAttributes<HTMLElement>,\r\n    'content' | 'shape' | 'size' | 'type' | 'children'\r\n  >,\r\n  TdButtonProps { }\r\n\r\nconst Button = forwardRef((originProps: ButtonProps, ref: React.ForwardedRef<HTMLElement>) => {\r\n  const props = useDefaultProps(originProps, buttonDefaultProps);\r\n  const {\r\n    type,\r\n    theme,\r\n    variant,\r\n    icon,\r\n    disabled,\r\n    loading,\r\n    size,\r\n    block,\r\n    ghost,\r\n    shape,\r\n    children,\r\n    content,\r\n    className,\r\n    suffix,\r\n    href,\r\n    tag,\r\n    onClick,\r\n    ...buttonProps\r\n  } = props;\r\n\r\n\r\n  const { classPrefix } = useConfig();\r\n\r\n\r\n  const renderChildren = content ?? children;\r\n\r\n  let iconNode = icon;\r\n  if (loading) iconNode = <Loading loading={loading} inheritColor={true} />;\r\n\r\n  const renderTheme = useMemo(() => {\r\n    if (!theme) {\r\n      if (variant === 'base') return 'primary';\r\n      return 'default';\r\n    }\r\n    return theme;\r\n  }, [theme, variant]);\r\n\r\n  const renderTag = useMemo(() => {\r\n    if (!tag && href && !disabled) return 'a';\r\n    if (!tag && disabled) return 'div';\r\n    return tag || 'button';\r\n  }, [tag, href, disabled]);\r\n\r\n  return React.createElement(\r\n    renderTag,\r\n    {\r\n      ...buttonProps,\r\n      href,\r\n      type,\r\n      ref,\r\n      disabled: disabled || loading,\r\n      className: classNames(\r\n        className,\r\n        [\r\n          `${classPrefix}-button`,\r\n          `${classPrefix}-button--theme-${renderTheme}`,\r\n          `${classPrefix}-button--variant-${variant}`,\r\n        ],\r\n        {\r\n          [`${classPrefix}-button--shape-${shape}`]: shape !== 'rectangle',\r\n          [`${classPrefix}-button--ghost`]: ghost,\r\n          [`${classPrefix}-is-loading`]: loading,\r\n          [`${classPrefix}-is-disabled`]: disabled,\r\n          [`${classPrefix}-size-s`]: size === 'small',\r\n          [`${classPrefix}-size-l`]: size === 'large',\r\n          [`${classPrefix}-size-full-width`]: block,\r\n        },\r\n      ),\r\n      onClick: !disabled && !loading ? onClick : undefined,\r\n    },\r\n    <>\r\n      {iconNode}\r\n      {renderChildren && <span className={`${classPrefix}-button__text`}>{renderChildren}</span>}\r\n      {suffix && <span className={`${classPrefix}-button__suffix`}>{parseTNode(suffix)}</span>}\r\n    </>,\r\n  );\r\n});\r\n\r\n\r\nButton.displayName = 'Button';\r\n\r\nexport default Button;\r\n"],"names":["buttonDefaultProps","block","disabled","form","undefined","ghost","loading","shape","size","type","variant","Button","forwardRef","originProps","ref","props","useDefaultProps","theme","icon","children","content","className","suffix","href","tag","onClick","buttonProps","_objectWithoutProperties","_excluded","_useConfig","useConfig","classPrefix","renderChildren","iconNode","React","createElement","Loading","inheritColor","renderTheme","useMemo","renderTag","_objectSpread","classNames","concat","_defineProperty","Fragment","parseTNode","displayName"],"mappings":"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"}