{"version":3,"file":"NotifyContainer.js","sources":["../../../components/notification/NotifyContainer.tsx"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\r\nimport NotificationItem from \"./NotifyItem\";\r\nimport useConfig from \"../hooks/useConfig\";\r\nexport const GAP = 14;\r\nexport const TOAST_WIDTH = 356;\r\nconst NotificationContainer = ({\r\n  notifications,\r\n  onRemove,\r\n  onHoverStart,\r\n  onHoverEnd,\r\n  maxStack,\r\n  position\r\n}: {\r\n  notifications: any[];\r\n  onRemove: (id: string) => void;\r\n  onHoverStart: () => void;\r\n  onHoverEnd: () => void;\r\n  maxStack: number;\r\n  position: string;\r\n}) => {\r\n  const [isHovering, setIsHovering] = useState(false);\r\n  const latestNotifications = notifications.slice(0, maxStack);\r\n  const [y, x] = position.split(\"-\");\r\n  const handleMouseEnter = useCallback(() => {\r\n    setIsHovering(true);\r\n    onHoverStart();\r\n  }, [onHoverStart]);\r\n\r\n  const handleMouseLeave = useCallback(() => {\r\n    setIsHovering(false);\r\n    onHoverEnd();\r\n  }, [onHoverEnd]);\r\n\r\n  const [heights, setHeights] = useState<{ toastId: string; height: number }[]>(\r\n    []\r\n  );\r\n\r\n  const { classPrefix: prefix } = useConfig();\r\n\r\n  return (\r\n    <div\r\n      className={`${prefix}-notify`}\r\n\r\n      style={\r\n        {\r\n          height: isHovering ? `${notifications.length * 100 + 16}px` : \"auto\",\r\n          minHeight: \"80px\",\r\n          \"--front-toast-height\": (heights[0]?.height || 0) + \"px\",\r\n          \"--toast-width\": TOAST_WIDTH + \"px\"\r\n        } as React.CSSProperties\r\n      }\r\n      data-toaster\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n      data-x-position={x}\r\n      data-y-position={y}\r\n    >\r\n      <div\r\n        className={`${prefix}-notify__container`}\r\n        style={{\r\n          pointerEvents: \"all\"\r\n        }}\r\n      >\r\n        {latestNotifications.map(notification => {\r\n          // const stackedStyle = !isHovering && !isLast;\r\n\r\n          // let offsetY = isHovering\r\n          //   ? index * 100 // 展开时，索引0在顶部\r\n          //   : stackedStyle\r\n          //   ? index * 8\r\n          //   : 0;\r\n\r\n          // const scale = stackedStyle ? 1 - index * 0.01 : 1;\r\n          // const opacity = stackedStyle ? 1 - index * 0.15 : 1;\r\n          return (\r\n            <NotificationItem\r\n              key={notification.id}\r\n              heights={heights}\r\n              setHeights={setHeights}\r\n              gap={GAP}\r\n              {...notification}\r\n              onRemove={onRemove}\r\n              isExpanded={isHovering}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NotificationContainer;\r\n"],"names":["GAP","TOAST_WIDTH","NotificationContainer","_ref","_heights$","notifications","onRemove","onHoverStart","onHoverEnd","maxStack","position","_useState","useState","_useState2","_slicedToArray","isHovering","setIsHovering","latestNotifications","slice","_position$split","split","_position$split2","y","x","handleMouseEnter","useCallback","handleMouseLeave","_useState3","_useState4","heights","setHeights","_useConfig","useConfig","prefix","classPrefix","React","createElement","className","concat","style","height","length","minHeight","onMouseEnter","onMouseLeave","pointerEvents","map","notification","NotificationItem","_extends","key","id","gap","isExpanded"],"mappings":"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"}