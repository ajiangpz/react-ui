{"version":3,"file":"Button.js","sources":["../../../components/Button/defaultProps.ts","../../../components/Button/Button.tsx"],"sourcesContent":["import { TdButtonProps } from './type';\n\nexport const buttonDefaultProps: TdButtonProps = {\n  block: false,\n  disabled: false,\n  form: undefined,\n  ghost: false,\n  loading: false,\n  shape: 'rectangle',\n  size: 'medium',\n  type: 'button',\n  variant: 'base',\n};\n","import React, { useMemo, forwardRef } from \"react\";\nimport classNames from \"classnames\";\nimport useConfig from \"../hooks/useConfig\";\nimport Loading from \"../loading\";\nimport { TdButtonProps } from \"./type\";\nimport { buttonDefaultProps } from \"./defaultProps\";\nimport parseTNode from \"../utils/parseTNode\";\nimport useDefaultProps from \"../hooks/useDefaultProps\";\n\nexport interface ButtonProps\n  extends Omit<\n    React.AllHTMLAttributes<HTMLElement>,\n    'content' | 'shape' | 'size' | 'type' | 'children'\n  >,\n  TdButtonProps { }\n\nconst Button = forwardRef((originProps: ButtonProps, ref: React.ForwardedRef<HTMLElement>) => {\n  const props = useDefaultProps(originProps, buttonDefaultProps);\n  const {\n    type,\n    theme,\n    variant,\n    icon,\n    disabled,\n    loading,\n    size,\n    block,\n    ghost,\n    shape,\n    children,\n    content,\n    className,\n    suffix,\n    href,\n    tag,\n    onClick,\n    ...buttonProps\n  } = props;\n\n\n  const { classPrefix } = useConfig();\n\n\n  const renderChildren = content ?? children;\n\n  let iconNode = icon;\n  if (loading) iconNode = <Loading loading={loading} inheritColor={true} />;\n\n  const renderTheme = useMemo(() => {\n    if (!theme) {\n      if (variant === 'base') return 'primary';\n      return 'default';\n    }\n    return theme;\n  }, [theme, variant]);\n\n  const renderTag = useMemo(() => {\n    if (!tag && href && !disabled) return 'a';\n    if (!tag && disabled) return 'div';\n    return tag || 'button';\n  }, [tag, href, disabled]);\n\n  return React.createElement(\n    renderTag,\n    {\n      ...buttonProps,\n      href,\n      type,\n      ref,\n      disabled: disabled || loading,\n      className: classNames(\n        className,\n        [\n          `${classPrefix}-button`,\n          `${classPrefix}-button--theme-${renderTheme}`,\n          `${classPrefix}-button--variant-${variant}`,\n        ],\n        {\n          [`${classPrefix}-button--shape-${shape}`]: shape !== 'rectangle',\n          [`${classPrefix}-button--ghost`]: ghost,\n          [`${classPrefix}-is-loading`]: loading,\n          [`${classPrefix}-is-disabled`]: disabled,\n          [`${classPrefix}-size-s`]: size === 'small',\n          [`${classPrefix}-size-l`]: size === 'large',\n          [`${classPrefix}-size-full-width`]: block,\n        },\n      ),\n      onClick: !disabled && !loading ? onClick : undefined,\n    },\n    <>\n      {iconNode}\n      {renderChildren && <span className={`${classPrefix}-button__text`}>{typeof renderChildren === 'function' ? renderChildren(children) : renderChildren}</span>}\n      {suffix && <span className={`${classPrefix}-button__suffix`}>{parseTNode(suffix)}</span>}\n    </>,\n  );\n});\n\n\nButton.displayName = 'Button';\n\nexport default Button;\n"],"names":["buttonDefaultProps","block","disabled","form","ghost","loading","shape","size","type","variant","Button","forwardRef","originProps","ref","props","useDefaultProps","theme","icon","children","content","className","suffix","href","tag","onClick","buttonProps","_objectWithoutProperties","_excluded","_useConfig","useConfig","classPrefix","renderChildren","iconNode","React","createElement","Loading","inheritColor","renderTheme","useMemo","renderTag","_objectSpread","classNames","concat","_defineProperty","Fragment","parseTNode","displayName"],"mappings":"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"}