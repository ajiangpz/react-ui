{"version":3,"file":"Loading.stories.js","sources":["../../../components/loading/Loading.stories.tsx"],"sourcesContent":["import { Meta, StoryObj } from '@storybook/react';\nimport Loading from './Loading';\nimport '@/style';\nimport './style/index';\nimport { useEffect, useState } from 'react';\nimport { Switch } from '../switch';\nimport { Button } from '../button';\nimport { Divide } from 'lucide-react';\n\nconst meta: Meta<typeof Loading> = {\n  title: 'Components/Loading',\n  component: Loading,\n  tags: ['autodocs'],\n};\n\nexport default meta;\n\ntype Story = StoryObj<typeof Loading>;\n\nexport const Default: Story = {\n  args: {},\n  render: (args) => (\n    <>\n      <Loading {...args}></Loading>\n    </>\n  ),\n};\n\nconst LoadingFullscreen = ({ ...args }) => {\n  const [checked, setChecked] = useState('on');\n  const [loading, setLoading] = useState(false);\n\n  const onChange = (value) => {\n    console.log(value);\n    setChecked(value);\n    setLoading(value);\n\n    if (value)\n      setTimeout(() => {\n        setChecked('off');\n        setLoading(false);\n      }, 2000);\n  };\n  return (\n    <>\n      <Loading\n        loading={loading}\n        fullscreen\n        preventScrollThrough={true}\n        text=\"加载中\"\n        {...args}\n      ></Loading>\n      Loading state:\n      <Switch value={checked} onCheckedChange={onChange} />\n    </>\n  );\n};\n\nexport const Fullscreen: Story = {\n  render: (args) => <LoadingFullscreen {...args}></LoadingFullscreen>,\n};\n\nconst LoadingDelay = ({ ...args }) => {\n  const [data, setData] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const loadingData = (time?: number) => {\n    setLoading(true);\n    setData('');\n    const timer = setTimeout(() => {\n      setLoading(false);\n      setData('数据加载完成，短时间的数据加载并未出现 loading');\n      clearTimeout(timer);\n    }, time || 100);\n  };\n\n  useEffect(() => {\n    loadingData();\n  }, []);\n\n  return (\n    <div className=\"flex flex-col gap-2\">\n      {/* <div>\n        <Loading delay={500} size=\"small\" loading={loading} {...args}></Loading>\n        {data ? <div>{`loading 作为独立元素：${data}`}</div> : null}\n      </div> */}\n\n      <div>\n        <Loading\n          loading={loading}\n          delay={500}\n          size=\"small\"\n          showOverlay\n          {...args}\n        >\n          <div>{data ? `loading 作为包裹元素：${data}` : ''}</div>\n        </Loading>\n      </div>\n\n      <div className=\"mt-2 flex justify-center gap-2\">\n        <Button onClick={() => loadingData()} size=\"sm\">\n          快速重新加载数据（无loading）\n        </Button>\n        <Button onClick={() => loadingData(1000)} size=\"sm\">\n          慢速重新加载数据\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport const Delay: Story = {\n  render: (args) => <LoadingDelay {...args}></LoadingDelay>,\n};\n"],"names":["meta","title","component","Loading","tags","Default","args","render","React","createElement","Fragment","_objectSpread","LoadingFullscreen","_ref","_useState","useState","_useState2","_slicedToArray","checked","setChecked","_useState3","_useState4","loading","setLoading","onChange","value","console","log","setTimeout","fullscreen","preventScrollThrough","text","Switch","onCheckedChange","Fullscreen","LoadingDelay","_ref2","_useState5","_useState6","data","setData","_useState7","_useState8","loadingData","time","timer","clearTimeout","useEffect","className","delay","size","showOverlay","concat","Button","onClick","Delay"],"mappings":"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"}