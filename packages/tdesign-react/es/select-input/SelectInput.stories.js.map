{"version":3,"file":"SelectInput.stories.js","sources":["../../../components/select-input/SelectInput.stories.tsx"],"sourcesContent":["import { Meta, StoryObj } from '@storybook/react';\nimport { SelectInput, SelectInputProps } from './index';\nimport { useState, useEffect } from 'react';\nimport '@/style/index.js';\nimport '../input/index';\nimport { Search } from 'lucide-react';\n\nconst meta: Meta<typeof SelectInput> = {\n  title: 'Components/SelectInput',\n  component: SelectInput,\n  tags: ['autodocs'],\n};\n\nexport default meta;\n\nconst classStyles = `\n<style>\n.tdesign-demo__select-input-ul-autocomplete {\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n}\n.tdesign-demo__select-input-ul-autocomplete > li {\n  display: block;\n  border-radius: 3px;\n  line-height: 22px;\n  cursor: pointer;\n  padding: 3px 8px;\n  color: var(--td-text-color-primary);\n  transition: background-color 0.2s linear;\n  white-space: nowrap;\n  word-wrap: normal;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.tdesign-demo__select-input-ul-autocomplete > li:hover {\n  background-color: var(--td-bg-color-container-hover);\n}\n</style>  \n`;\n\nconst OPTIONS = [\n  'Student A',\n  'Student B',\n  'Student C',\n  'Student D',\n  'Student E',\n  'Student F',\n];\n\nconst SelectInputAutocomplete = (args: SelectInputProps) => {\n  const [popupVisible, setPopupVisible] = useState(false);\n  const [selectValue, setSelectValue] = useState('');\n  const [options, setOptions] = useState(OPTIONS);\n\n  const onOptionClick = (item: string) => {\n    setSelectValue(item);\n    setPopupVisible(false);\n  };\n\n  const onInputChange = (keyword: string) => {\n    setSelectValue(keyword);\n    const options = new Array(5)\n      .fill(null)\n      .map((t, index) => `${keyword} Student ${index}`);\n    setOptions(options);\n  };\n\n  const onPopupVisibleChange = (val: boolean) => {\n    setPopupVisible(val);\n  };\n\n  useEffect(() => {\n    // 添加示例代码所需样式\n    document.head.insertAdjacentHTML('beforeend', classStyles);\n  }, []);\n\n  // 如果需要输入框宽度自适应，可以使用 autoWidth\n  return (\n    <div>\n      <SelectInput\n        value={selectValue}\n        popupVisible={popupVisible}\n        placeholder=\"请输入任意关键词\"\n        allowInput\n        clearable\n        style={{ width: '300px' }}\n        onInputChange={onInputChange}\n        onPopupVisibleChange={onPopupVisibleChange}\n        panel={\n          <ul className=\"tdesign-demo__select-input-ul-autocomplete\">\n            {options.map((item) => (\n              <li key={item} onClick={() => onOptionClick(item)}>\n                {item}\n              </li>\n            ))}\n          </ul>\n        }\n        suffixIcon={<Search />}\n        {...args}\n      />\n    </div>\n  );\n};\n\ntype Story = StoryObj<typeof SelectInput>;\nexport const Default: Story = {\n  args: {},\n  render: (args: SelectInputProps) => <SelectInputAutocomplete {...args} />,\n};\n"],"names":["meta","title","component","SelectInput","tags","classStyles","OPTIONS","SelectInputAutocomplete","args","_useState","useState","_useState2","_slicedToArray","popupVisible","setPopupVisible","_useState3","_useState4","selectValue","setSelectValue","_useState5","_useState6","options","setOptions","onOptionClick","item","onInputChange","keyword","Array","fill","map","t","index","concat","onPopupVisibleChange","val","useEffect","document","head","insertAdjacentHTML","React","createElement","_objectSpread","value","placeholder","allowInput","clearable","style","width","panel","className","key","onClick","suffixIcon","Search","Default","render"],"mappings":"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"}