{"version":3,"file":"NotifyContainer.js","sources":["../../../components/Notification/NotifyContainer.tsx"],"sourcesContent":["import { useCallback, useState } from \"react\";\nimport NotificationItem from \"./NotifyItem\";\nimport useConfig from \"../hooks/useConfig\";\nexport const GAP = 14;\nexport const TOAST_WIDTH = 356;\nconst NotificationContainer = ({\n  notifications,\n  onRemove,\n  onHoverStart,\n  onHoverEnd,\n  maxStack,\n  position\n}: {\n  notifications: any[];\n  onRemove: (id: string) => void;\n  onHoverStart: () => void;\n  onHoverEnd: () => void;\n  maxStack: number;\n  position: string;\n}) => {\n  const [isHovering, setIsHovering] = useState(false);\n  const latestNotifications = notifications.slice(0, maxStack);\n  const [y, x] = position.split(\"-\");\n  const handleMouseEnter = useCallback(() => {\n    setIsHovering(true);\n    onHoverStart();\n  }, [onHoverStart]);\n\n  const handleMouseLeave = useCallback(() => {\n    setIsHovering(false);\n    onHoverEnd();\n  }, [onHoverEnd]);\n\n  const [heights, setHeights] = useState<{ toastId: string; height: number }[]>(\n    []\n  );\n\n  const { classPrefix: prefix } = useConfig();\n\n  return (\n    <div\n      className={`${prefix}-notify`}\n\n      style={\n        {\n          height: isHovering ? `${notifications.length * 100 + 16}px` : \"auto\",\n          minHeight: \"80px\",\n          \"--front-toast-height\": (heights[0]?.height || 0) + \"px\",\n          \"--toast-width\": TOAST_WIDTH + \"px\"\n        } as React.CSSProperties\n      }\n      data-toaster\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      data-x-position={x}\n      data-y-position={y}\n    >\n      <div\n        className={`${prefix}-notify__container`}\n        style={{\n          pointerEvents: \"all\"\n        }}\n      >\n        {latestNotifications.map(notification => {\n          // const stackedStyle = !isHovering && !isLast;\n\n          // let offsetY = isHovering\n          //   ? index * 100 // 展开时，索引0在顶部\n          //   : stackedStyle\n          //   ? index * 8\n          //   : 0;\n\n          // const scale = stackedStyle ? 1 - index * 0.01 : 1;\n          // const opacity = stackedStyle ? 1 - index * 0.15 : 1;\n          return (\n            <NotificationItem\n              key={notification.id}\n              heights={heights}\n              setHeights={setHeights}\n              gap={GAP}\n              {...notification}\n              onRemove={onRemove}\n              isExpanded={isHovering}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default NotificationContainer;\n"],"names":["GAP","TOAST_WIDTH","NotificationContainer","_heights$","notifications","_ref","onRemove","onHoverStart","onHoverEnd","maxStack","position","_useState","useState","_useState2","_slicedToArray","isHovering","setIsHovering","latestNotifications","slice","_position$split","split","_position$split2","y","x","handleMouseEnter","useCallback","handleMouseLeave","_useState3","_useState4","heights","setHeights","_useConfig","useConfig","prefix","classPrefix","React","createElement","className","concat","style","height","length","minHeight","onMouseEnter","onMouseLeave","pointerEvents","map","notification","NotificationItem","_objectSpread","key","id","gap","isExpanded"],"mappings":"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"}