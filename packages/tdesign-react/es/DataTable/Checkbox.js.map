{"version":3,"file":"Checkbox.js","sources":["../../../components/DataTable/Checkbox.tsx"],"sourcesContent":["import React, { forwardRef, useEffect, useRef } from 'react';\nimport type { CheckboxProps } from './types';\nimport clsx from 'clsx';\n\nexport const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\n  ({ checked, indeterminate, disabled, onChange, className, title, ...props }, ref) => {\n    const innerRef = useRef<HTMLInputElement>(null);\n    \n    useEffect(() => {\n      if (innerRef.current) {\n        innerRef.current.indeterminate = !!indeterminate;\n      }\n    }, [indeterminate]);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (disabled) return;\n      onChange?.(e.target.checked);\n    };\n\n    return (\n      <label\n        className={clsx(\n          'inline-flex items-center',\n          disabled ? 'cursor-not-allowed opacity-50' : 'cursor-pointer',\n          className\n        )}\n        title={title}\n      >\n        <input\n          type=\"checkbox\"\n          ref={(node) => {\n            // 同时支持 ref 和 innerRef\n            innerRef.current = node;\n            if (typeof ref === 'function') {\n              ref(node);\n            } else if (ref) {\n              ref.current = node;\n            }\n          }}\n          className={clsx(\n            'form-checkbox h-4 w-4 text-primary-600 transition duration-150 ease-in-out',\n            'border-gray-300 rounded',\n            disabled ? 'cursor-not-allowed' : 'cursor-pointer'\n          )}\n          checked={checked}\n          disabled={disabled}\n          onChange={handleChange}\n          {...props}\n        />\n      </label>\n    );\n  }\n); "],"names":["Checkbox","forwardRef","_ref","ref","checked","indeterminate","disabled","onChange","className","title","props","_objectWithoutProperties","_excluded","innerRef","useRef","useEffect","current","handleChange","e","target","React","createElement","clsx","_objectSpread","type","node"],"mappings":";;;;;;;;;AAIO,IAAMA,QAAA,gBAAWC,uBAAA,CACtB,UAAAC,IAAA,EAA6EC,KAAA,EAAQ;AAAA,EAAA,IAAlFC,OAAA,GAAAF,IAAA,CAAAE,OAAA;IAASC,aAAA,GAAAH,IAAA,CAAAG,aAAA;IAAeC,QAAA,GAAAJ,IAAA,CAAAI,QAAA;IAAUC,QAAA,GAAAL,IAAA,CAAAK,QAAA;IAAUC,SAAA,GAAAN,IAAA,CAAAM,SAAA;IAAWC,KAAA,GAAAP,IAAA,CAAAO,KAAA;AAAUC,IAAAA,KAAA,GAAAC,wBAAA,CAAAT,IAAA,EAAAU,SAAA,CAAA;AAClE,EAAA,IAAMC,QAAA,GAAWC,oBAAyB,IAAI,CAAA;AAE9CC,EAAAA,sBAAA,CAAU,YAAM;IACd,IAAIF,SAASG,OAAA,EAAS;AACpBH,MAAAA,QAAA,CAASG,OAAA,CAAQX,aAAA,GAAgB,CAAC,CAACA,aAAA;AACrC,IAAA;AACF,EAAA,CAAA,EAAG,CAACA,aAAa,CAAC,CAAA;AAElB,EAAA,IAAMY,YAAA,GAAe,SAAfA,YAAAA,CAAgBC,CAAA,EAA2C;AAC/D,IAAA,IAAIZ,QAAA,EAAU;IACdC,QAAA,KAAA,IAAA,IAAAA,QAAA,KAAA,KAAA,CAAA,IAAAA,QAAA,CAAWW,CAAA,CAAEC,OAAOf,OAAO,CAAA;EAC7B,CAAA;AAEA,EAAA,sBACEgB,KAAA,CAAAC,aAAA,CAAC,OAAA,EAAA;AACCb,IAAAA,SAAA,EAAWc,IAAA,CACT,0BAAA,EACAhB,WAAW,+BAAA,GAAkC,gBAAA,EAC7CE,SACF,CAAA;AACAC,IAAAA,KAAA,EAAAA;GAAA,iBAEAW,KAAA,CAAAC,aAAA,CAAC,OAAA,EAAAE,aAAA,CAAA;AACCC,IAAAA,IAAA,EAAK,UAAA;AACLrB,IAAAA,GAAA,EAAK,SAALA,GAAAA,CAAMsB,IAAA,EAAS;MAEbZ,QAAA,CAASG,OAAA,GAAUS,IAAA;AACnB,MAAA,IAAI,OAAOtB,UAAQ,UAAA,EAAY;QAC7BA,KAAA,CAAIsB,IAAI,CAAA;MACV,WAAWtB,KAAA,EAAK;QACdA,KAAA,CAAIa,OAAA,GAAUS,IAAA;AAChB,MAAA;IACF,CAAA;AACAjB,IAAAA,SAAA,EAAWc,IAAA,CACT,4EAAA,EACA,yBAAA,EACAhB,WAAW,oBAAA,GAAuB,gBACpC,CAAA;AACAF,IAAAA,OAAA,EAAAA,OAAA;AACAE,IAAAA,QAAA,EAAAA,QAAA;AACAC,IAAAA,QAAA,EAAUU;GAAA,EACNP,KAAA,CACN,CACF,CAAA;AAEJ,CACF;;;;"}