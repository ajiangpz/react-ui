{"version":3,"file":"dep-DWZDJ_hQ.js","sources":["../../../components/utils/parseTNode.ts"],"sourcesContent":["import React, { ReactElement, ReactNode } from 'react';\nimport { isFunction } from 'lodash-es';\nimport { TNode } from '@/common';\n\n// 解析 TNode 数据结构\nexport default function parseTNode(\n  renderNode: TNode | TNode<any> | undefined,\n  renderParams?: any,\n  defaultNode?: ReactNode,\n): ReactNode {\n  let node: ReactNode = null;\n\n  if (typeof renderNode === 'function') {\n    node = renderNode(renderParams);\n  } else if (renderNode === true) {\n    node = defaultNode;\n  } else if (renderNode !== null) {\n    node = renderNode ?? defaultNode;\n  }\n  return node as ReactNode;\n}\n\n/**\n * 解析各种数据类型的 TNode\n * 函数类型：content={(props) => <Icon></Icon>}\n * 组件类型：content={<Button>click me</Button>} 这种方式可以避免函数重复渲染，对应的 props 已经注入\n * 字符类型\n */\nexport function parseContentTNode<T>(tnode: TNode<T>, props: T) {\n  if (isFunction(tnode)) return tnode(props) as ReactNode;\n  if (!tnode || ['string', 'number', 'boolean'].includes(typeof tnode))\n    return tnode as ReactNode;\n  try {\n    return React.cloneElement(tnode as ReactElement, { ...props });\n  } catch (e) {\n    console.warn('parseContentTNode', `${tnode} is not a valid ReactNode`);\n    return null;\n  }\n}\n"],"names":["parseTNode","renderNode","renderParams","defaultNode","node","parseContentTNode","tnode","props","isFunction","includes","_typeof","React","cloneElement","_objectSpread","e","console","warn","concat"],"mappings":";;;;;;;AAKA,SAAwBA,UAAAA,CACtBC,UAAA,EACAC,YAAA,EACAC,WAAA,EACW;EACX,IAAIC,IAAA,GAAkB,IAAA;AAEtB,EAAA,IAAI,OAAOH,eAAe,UAAA,EAAY;AACpCG,IAAAA,IAAA,GAAOH,WAAWC,YAAY,CAAA;AAChC,EAAA,CAAA,MAAA,IAAWD,eAAe,IAAA,EAAM;AAC9BG,IAAAA,IAAA,GAAOD,WAAA;AACT,EAAA,CAAA,MAAA,IAAWF,eAAe,IAAA,EAAM;AAC9BG,IAAAA,IAAA,GAAOH,UAAA,KAAA,IAAA,IAAAA,UAAA,KAAA,KAAA,CAAA,GAAAA,UAAA,GAAcE,WAAA;AACvB,EAAA;AACA,EAAA,OAAOC,IAAA;AACT;AAQO,SAASC,iBAAAA,CAAqBC,OAAiBC,KAAA,EAAU;EAC9D,IAAIC,UAAA,CAAWF,KAAK,CAAA,EAAG,OAAOA,MAAMC,KAAK,CAAA;AACzC,EAAA,IAAI,CAACD,SAAS,CAAC,QAAA,EAAU,UAAU,SAAS,CAAA,CAAEG,QAAA,CAAAC,OAAA,CAAgBJ,KAAK,CAAA,CAAA,EACjE,OAAOA,KAAA;EACT,IAAI;IACF,oBAAOK,MAAMC,YAAA,CAAaN,KAAA,EAAAO,aAAA,CAAA,EAAA,EAA4BN,MAAO,CAAA;EAC/D,SAASO,CAAA,EAAG;IACVC,OAAA,CAAQC,IAAA,CAAK,mBAAA,KAAAC,MAAA,CAAwBX,KAAK,EAAA,2BAAA,CAA2B,CAAA;AACrE,IAAA,OAAO,IAAA;AACT,EAAA;AACF;;;;"}