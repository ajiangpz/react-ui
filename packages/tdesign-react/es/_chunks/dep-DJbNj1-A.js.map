{"version":3,"file":"dep-DJbNj1-A.js","sources":["../../../components/popup/hooks/useTrigger.ts","../../../components/popup/defaultProps.ts","../../../components/popup/Popup.tsx","../../../components/popup/index.ts","../../../components/select-input/hook/useOverlayInnerStyle.ts","../../../components/select-input/defaultProps.ts","../../../components/select-input/SelectInput.tsx"],"sourcesContent":["import React, {\n  useRef,\n  useEffect,\n  isValidElement,\n  useCallback,\n  useMemo,\n} from 'react';\nimport { isFragment } from 'react-is';\nimport { supportRef, getRefDom, getNodeRef } from '../../utils/refs';\nimport composeRefs from '../../utils/composeRefs';\nimport { off, on } from '../../utils/listener';\nimport classNames from 'classnames';\nimport { TNode } from '../../common';\nconst ESC_KEY = 'Escape';\n\ninterface UseTriggerProps {\n  content: TNode;\n  disabled?: boolean;\n  trigger:\n    | 'hover'\n    | 'click'\n    | 'mousedown'\n    | 'focus'\n    | 'context-menu'\n    | undefined;\n  visible: boolean | undefined;\n  onVisibleChange: (visible: boolean, context: any) => void;\n  triggerRef: React.Ref<any>;\n  delay?: number | [number, number] | number[];\n}\n\nexport default function useTrigger({\n  content,\n  disabled,\n  trigger,\n  visible,\n  onVisibleChange,\n  triggerRef,\n  delay,\n}: UseTriggerProps) {\n  const hasPopupMouseDown = useRef(false);\n  const mouseDownTimer = useRef(0);\n  const visibleTimer = useRef(null);\n  const triggerDataKey = useRef(`t-popup--${Math.random().toFixed(10)}`);\n  const leaveFlag = useRef(false); // 防止多次触发显隐\n\n  // 禁用和无内容时不展示\n  const shouldToggle = useMemo(() => {\n    if (disabled) return false; // 禁用\n    return !disabled && content === 0 ? true : content; // 无内容时\n  }, [disabled, content]);\n\n  // 解析 delay 数据类型\n  const [appearDelay = 0, exitDelay = 0] = useMemo(() => {\n    if (Array.isArray(delay)) return delay;\n    return [delay, delay];\n  }, [delay]);\n\n  function callFuncWithDelay({\n    delay,\n    callback,\n  }: {\n    delay?: number;\n    callback: Function;\n  }) {\n    if (delay) {\n      clearTimeout(visibleTimer.current as any);\n      (visibleTimer as any).current = setTimeout(callback, delay);\n    } else {\n      callback();\n    }\n  }\n\n  // 点击 trigger overlay 以外的元素关闭\n  useEffect(() => {\n    if (!shouldToggle) return;\n\n    const handleDocumentClick = (e: any) => {\n      if (\n        getRefDom(triggerRef as any)?.contains?.(e.target) ||\n        hasPopupMouseDown.current\n      ) {\n        return;\n      }\n      visible && onVisibleChange(false, { e, trigger: 'document' });\n    };\n    on(document, 'mousedown', handleDocumentClick);\n    on(document, 'touchend', handleDocumentClick);\n\n    // 清理事件监听\n    return () => {\n      off(document, 'mousedown', handleDocumentClick);\n      off(document, 'touchend', handleDocumentClick);\n    };\n  }, [shouldToggle, visible, onVisibleChange, triggerRef]);\n\n  // 弹出内容交互处理\n  function getPopupProps(): any {\n    if (!shouldToggle) return {};\n\n    return {\n      onMouseEnter: (e: MouseEvent) => {\n        console.log('popup mouse enter');\n        // leaveFlag表示是从 trigger 元素 hover 过来的，避免频繁显示隐藏\n        if (trigger === 'hover' && !leaveFlag.current) {\n          // 清除延迟显示定时器\n          clearTimeout((visibleTimer as any).current);\n          // 立即显示\n          onVisibleChange(true, { e, trigger: 'trigger-element-hover' });\n        }\n      },\n      onMouseLeave: (e: MouseEvent) => {\n        console.log('popup mouse leave');\n        if (trigger === 'hover') {\n          // 防止 鼠标移出后，马上移入 popup 元素，导致 popup 重新显示 特别是有延迟显示时 是一个防抖标志\n          leaveFlag.current = true;\n\n          // 清除延迟显示定时器\n          clearTimeout((visibleTimer as any).current);\n          // 立即隐藏\n          onVisibleChange(false, { e, trigger: 'trigger-element-hover' });\n        }\n      },\n      onMouseDown: () => {\n        //  清除鼠标按下定时器\n        clearTimeout(mouseDownTimer.current);\n        // 鼠标按下时，触发 useEffect 中的 document click 事件，点击trigger和popup元素 不需要隐藏\n        hasPopupMouseDown.current = true;\n        mouseDownTimer.current = window.setTimeout(() => {\n          // 事件处理完毕后，重置标志\n          hasPopupMouseDown.current = false;\n        });\n      },\n      // 触摸结束时,和mouseDown 类似\n\n      onTouchEnd: () => {\n        clearTimeout(mouseDownTimer.current);\n        hasPopupMouseDown.current = true;\n        mouseDownTimer.current = window.setTimeout(() => {\n          hasPopupMouseDown.current = false;\n        });\n      },\n    };\n  }\n\n  // 整理 trigger props\n  function getTriggerProps(triggerNode: React.ReactElement<any>) {\n    if (!shouldToggle) return {};\n\n    const triggerProps: any = {\n      className: visible\n        ? classNames(triggerNode.props.className, `t-popup-open`)\n        : triggerNode.props.className,\n      onMouseDown: (e: MouseEvent) => {\n        if (trigger === 'mousedown') {\n          callFuncWithDelay({\n            delay: visible ? appearDelay : exitDelay,\n            callback: () =>\n              onVisibleChange(!visible, {\n                e,\n                trigger: 'trigger-element-mousedown',\n              }),\n          });\n        }\n        triggerNode.props.onMouseDown?.(e);\n      },\n      onClick: (e: MouseEvent) => {\n        if (trigger === 'click') {\n          callFuncWithDelay({\n            // appearDelay 和 exitDelay 分别表示点击时的延迟显示和隐藏\n            delay: visible ? appearDelay : exitDelay,\n            callback: () =>\n              onVisibleChange(!visible, {\n                e,\n                trigger: 'trigger-element-click',\n              }),\n          });\n        }\n        triggerNode.props.onClick?.(e);\n      },\n      onTouchStart: (e: TouchEvent) => {\n        if (trigger === 'hover' || trigger === 'mousedown') {\n          // leaveFlag 表示是从 trigger 元素 hover 过来的，避免频繁显示隐藏\n          leaveFlag.current = false;\n          callFuncWithDelay({\n            delay: appearDelay,\n            callback: () =>\n              onVisibleChange(true, { e, trigger: 'trigger-element-hover' }),\n          });\n        }\n        triggerNode.props.onTouchStart?.(e);\n      },\n      onMouseEnter: (e: MouseEvent) => {\n        if (trigger === 'hover') {\n          leaveFlag.current = false;\n          callFuncWithDelay({\n            delay: appearDelay,\n            callback: () =>\n              onVisibleChange(true, { e, trigger: 'trigger-element-hover' }),\n          });\n        }\n        triggerNode.props.onMouseEnter?.(e);\n      },\n      onMouseLeave: (e: MouseEvent) => {\n        if (trigger === 'hover') {\n          leaveFlag.current = false;\n          callFuncWithDelay({\n            delay: exitDelay,\n            callback: () =>\n              onVisibleChange(false, { e, trigger: 'trigger-element-hover' }),\n          });\n        }\n        triggerNode.props.onMouseLeave?.(e);\n      },\n      onFocus: (...args: any) => {\n        if (trigger === 'focus') {\n          callFuncWithDelay({\n            delay: appearDelay,\n            callback: () =>\n              onVisibleChange(true, { trigger: 'trigger-element-focus' }),\n          });\n        }\n        triggerNode.props.onFocus?.(...args);\n      },\n      onBlur: (...args: any) => {\n        if (trigger === 'focus') {\n          callFuncWithDelay({\n            delay: appearDelay,\n            callback: () =>\n              onVisibleChange(false, { trigger: 'trigger-element-blur' }),\n          });\n        }\n        triggerNode.props.onBlur?.(...args);\n      },\n      onContextMenu: (e: MouseEvent) => {\n        if (trigger === 'context-menu') {\n          e.preventDefault();\n          callFuncWithDelay({\n            delay: appearDelay,\n            callback: () =>\n              onVisibleChange(true, { e, trigger: 'context-menu' }),\n          });\n        }\n        triggerNode.props.onContextMenu?.(e);\n      },\n      onKeyDown: (e: KeyboardEvent) => {\n        if (e?.key === ESC_KEY) {\n          callFuncWithDelay({\n            delay: exitDelay,\n            callback: () =>\n              onVisibleChange(false, { e, trigger: 'keydown-esc' }),\n          });\n        }\n        triggerNode.props.onKeyDown?.(e);\n      },\n    };\n    // 如果支持 ref 透传，composeRefs 返回一个函数，当组件挂载时，执行函数，triggerRef 和 tiggerNode 指向触发元素的dom\n    if (supportRef(triggerNode)) {\n      triggerProps.ref = composeRefs(\n        triggerRef,\n        getNodeRef(triggerNode as any),\n      );\n    } else {\n      // 标记 trigger 元素\n      triggerProps['data-popup'] = triggerDataKey.current;\n    }\n\n    return triggerProps;\n  }\n\n  // 整理 trigger 元素\n  function getTriggerNode(children: React.ReactNode) {\n    const triggerNode =\n      isValidElement(children) && !isFragment(children)\n        ? children\n        : React.createElement('span', { children });\n\n    return React.cloneElement(triggerNode, getTriggerProps(triggerNode));\n  }\n\n  // ref 透传失败时使用 dom 查找\n  const getTriggerDom = useCallback(() => {\n    if (typeof document === 'undefined') return {};\n    return document.querySelector(`[data-popup=\"${triggerDataKey.current}\"]`);\n  }, []);\n\n  return {\n    getTriggerNode,\n    getPopupProps,\n    getTriggerDom,\n  };\n}\n","/**\n * 该文件为脚本自动生成文件，请勿随意修改。如需修改请联系 PMC\n * */\n\nimport { TdPopupProps } from './type';\n\nexport const popupDefaultProps: TdPopupProps = {\n  destroyOnClose: false,\n  hideEmptyPopup: false,\n  placement: 'top',\n  showArrow: false,\n  trigger: 'hover',\n};\n","import { Placement, type Options } from '@popperjs/core';\nimport { debounce, isFunction } from 'lodash-es';\nimport React, {\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { getRefDom } from '../utils/ref';\nimport Portal from '../portal/Portal';\nimport useControlled from '../hooks/useControlled';\nimport useDefaultProps from '../hooks/useDefaultProps';\nimport useMutationObserver from '../hooks/useMutationObserver';\nimport useWindowSize from '../hooks/useWindowSize';\nimport useTrigger from './hooks/useTrigger';\nimport type { TdPopupProps } from './type';\nimport usePopper from '../hooks/usePopper';\nimport { popupDefaultProps } from './defaultProps';\nimport classNames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\nimport { getCssVarsValue } from '../utils/style';\nimport useConfig from '../hooks/useConfig';\n\nexport interface PopupProps extends TdPopupProps {\n  // 是否触发展开收起动画，内部下拉式组件使用\n  expandAnimation?: boolean;\n  // 更新内容区域滚动条\n  updateScrollTop?: (content: HTMLDivElement) => void;\n}\n\nexport interface PopupRef {\n  /** 获取 popper 实例 */\n  getPopper: () => ReturnType<typeof usePopper>;\n  /** 获取 Popup dom 元素 */\n  getPopupElement: () => HTMLDivElement;\n  /** 获取 portal dom 元素 */\n  getPortalElement: () => HTMLDivElement;\n  /** 获取内容区域 dom 元素 */\n  getPopupContentElement: () => HTMLDivElement;\n  /** 设置 popup 显示隐藏 */\n  setVisible: (visible: boolean) => void;\n}\n\nconst Popup = forwardRef<PopupRef, PopupProps>((originalProps, ref) => {\n  const props = useDefaultProps<PopupProps>(originalProps, popupDefaultProps);\n  const { classPrefix } = useConfig();\n  const {\n    trigger,\n    content,\n    placement,\n    showArrow,\n    destroyOnClose,\n    overlayClassName,\n    overlayInnerClassName,\n    overlayStyle,\n    overlayInnerStyle,\n    triggerElement,\n    children = triggerElement,\n    disabled,\n    zIndex,\n    onScroll,\n    onScrollToBottom,\n    delay,\n    hideEmptyPopup,\n    updateScrollTop,\n  } = props;\n\n  // 全局配置\n  const { height: windowHeight, width: windowWidth } = useWindowSize();\n  const [visible, onVisibleChange] = useControlled(\n    props,\n    'visible',\n    props.onVisibleChange as any,\n  );\n  // 记录 popup 元素\n  // 如果内容为 null 或 undefined，且 hideEmptyPopup 为 true，则不展示 popup\n  const [popupElement, setPopupElement] = useState(null);\n  const triggerRef = useRef(null); // 记录 trigger 元素\n  const popupRef = useRef(null); // popup dom 元素，css transition 需要用\n  const portalRef = useRef(null); // portal dom 元素\n  const contentRef = useRef(null); // 内容部分\n  const popperRef = useRef<ReturnType<typeof usePopper> | null>(null); // 保存 popper 实例\n\n  // 默认动画时长\n  const DEFAULT_TRANSITION_TIMEOUT = 180;\n\n  // 处理切换 panel 为 null 和正常内容动态切换的情况\n  useEffect(() => {\n    if (!content && hideEmptyPopup) {\n      requestAnimationFrame(() => setPopupElement(null));\n    }\n  }, [content, hideEmptyPopup]);\n\n  // 判断展示浮层\n  const showOverlay = useMemo(() => {\n    if (hideEmptyPopup && !content) return false;\n    return visible || popupElement;\n  }, [hideEmptyPopup, content, visible, popupElement]);\n\n  // 转化 placement\n  const popperPlacement = useMemo(\n    () =>\n      placement &&\n      (placement\n        .replace(/-(left|top)$/, '-start')\n        .replace(/-(right|bottom)$/, '-end') as Placement),\n    [placement],\n  );\n  // 获取 triggerNode\n  const { getTriggerNode, getPopupProps, getTriggerDom } = useTrigger({\n    triggerRef,\n    content,\n    disabled,\n    trigger,\n    visible,\n    delay,\n    onVisibleChange,\n  });\n  // 传入popperjs 配置选项\n  const popperOptions = props.popperOptions as Options;\n  const { placement: _ignored, ...restPopperOptions } = popperOptions || {};\n\n  // popperRef 表示 popper 实例\n  popperRef.current = usePopper(getRefDom(triggerRef), popupElement as any, {\n    placement: popperPlacement,\n    ...restPopperOptions,\n  });\n\n  // arrow modifier 用于显示箭头\n  const hasArrowModifier = popperOptions?.modifiers?.some(\n    (modifier) => modifier.name === 'arrow',\n  );\n  const { styles, attributes } = popperRef.current;\n  // 获取 triggerNode\n  // 如果 children 是函数，则调用函数获取 triggerNode\n  // getTriggerNode 设置触发元素的事件\n  const triggerNode = isFunction(children)\n    ? getTriggerNode(children({ visible }))\n    : getTriggerNode(children);\n\n  const updateTimeRef = useRef(null);\n  // 监听 trigger 节点或内容变化动态更新 popup 定位\n  useMutationObserver(getRefDom(triggerRef), () => {\n    const isDisplayNone =\n      getCssVarsValue('display', getRefDom(triggerRef)) === 'none';\n    if (visible && !isDisplayNone) {\n      clearTimeout(updateTimeRef.current as any);\n      updateTimeRef.current = setTimeout(\n        () => popperRef.current?.update?.(),\n        0,\n      ) as any;\n    }\n  });\n  // 清理定时器\n  useEffect(() => () => clearTimeout(updateTimeRef.current as any), []);\n\n  // 窗口尺寸变化时调整位置\n  useEffect(() => {\n    if (visible) {\n      requestAnimationFrame(() => popperRef.current?.update?.());\n    }\n  }, [visible, content, windowHeight, windowWidth]);\n\n  // 下拉展开时更新内部滚动条\n  useEffect(() => {\n    if (!triggerRef.current) triggerRef.current = getTriggerDom() as any;\n    if (visible) {\n      updateScrollTop?.(contentRef.current as any);\n    }\n  }, [visible, updateScrollTop, getTriggerDom]);\n\n  function handleExited() {\n    !destroyOnClose &&\n      popupElement &&\n      ((popupElement as HTMLElement).style.display = 'none');\n  }\n  function handleEnter() {\n    !destroyOnClose &&\n      popupElement &&\n      ((popupElement as HTMLElement).style.display = 'block');\n  }\n\n  function handleScroll(e: React.WheelEvent<HTMLDivElement>) {\n    onScroll?.({ e });\n\n    // 防止多次触发添加截流\n    const debounceOnScrollBottom = debounce(\n      (e) => onScrollToBottom?.({ e }),\n      100,\n    );\n\n    const { scrollTop, clientHeight, scrollHeight } =\n      e.target as HTMLDivElement;\n    // windows 下滚动会出现小数，所以这里取整\n    if (clientHeight + Math.floor(scrollTop) === scrollHeight) {\n      // touch bottom\n      debounceOnScrollBottom(e);\n    }\n  }\n\n  // 整理浮层样式\n  function getOverlayStyle(overlayStyle: TdPopupProps['overlayStyle']) {\n    if (\n      getRefDom(triggerRef) &&\n      popupRef.current &&\n      typeof overlayStyle === 'function'\n    ) {\n      return { ...overlayStyle(getRefDom(triggerRef), popupRef.current) };\n    }\n    return { ...overlayStyle };\n  }\n\n  const overlay = showOverlay && (\n    <CSSTransition\n      appear\n      in={visible}\n      timeout={DEFAULT_TRANSITION_TIMEOUT}\n      nodeRef={portalRef}\n      unmountOnExit={destroyOnClose}\n      onEnter={handleEnter}\n      onExited={handleExited}\n      classNames={`${classPrefix}-portal`}\n    >\n      <Portal triggerNode={getRefDom(triggerRef)} attach=\"body\" ref={portalRef}>\n        <CSSTransition\n          appear\n          timeout={0}\n          in={visible}\n          nodeRef={popupRef}\n          classNames={`${classPrefix}-popup`}\n        >\n          <div\n            ref={(node) => {\n              if (node) {\n                popupRef.current = node as any;\n                setPopupElement(node as any);\n              }\n            }}\n            style={{\n              ...(styles as any).popper,\n              zIndex,\n              ...getOverlayStyle(overlayStyle),\n            }}\n            className={classNames(`${classPrefix}-popup`, overlayClassName, '')}\n            {...attributes.popper}\n            {...getPopupProps()}\n          >\n            <div\n              ref={contentRef}\n              className={classNames(\n                `${classPrefix}-popup__content`,\n                {\n                  [`${classPrefix}-popup__content--arrow`]: showArrow,\n                },\n                overlayInnerClassName,\n              )}\n              style={getOverlayStyle(overlayInnerStyle)}\n              onScroll={handleScroll}\n            >\n              {content as any}\n              {showArrow && (\n                <div\n                  style={(styles as any).arrow}\n                  className={`${classPrefix}-popup__arrow`}\n                  {...(hasArrowModifier && { 'data-popper-arrow': '' })}\n                />\n              )}\n            </div>\n          </div>\n        </CSSTransition>\n      </Portal>\n    </CSSTransition>\n  );\n  // 使用 useImperativeHandle 暴露给父组件\n  // 这样父组件可以通过 ref 获取 popper 实例、popup 元素\n  // portal 元素和内容区域元素\n  // 以及设置 popup 的显示隐藏状态\n  useImperativeHandle(ref, () => ({\n    getPopper: () => popperRef.current as any,\n    getPopupElement: () => popupRef.current as any,\n    getPortalElement: () => portalRef.current as any,\n    getPopupContentElement: () => contentRef.current as any,\n    setVisible: (visible: boolean) =>\n      onVisibleChange(visible, { trigger: 'document' }),\n  }));\n  // 这里使用 React.Fragment 包裹 triggerNode 和 overlay，确保返回一个单一的父节点\n  // 这样可以避免在渲染时出现多个根节点的错误\n  return (\n    <React.Fragment>\n      {triggerNode}\n      {overlay}\n    </React.Fragment>\n  );\n});\n\nPopup.displayName = 'Popup';\n\nexport default Popup;\n","import _Popup from './Popup';\nimport './style/index';\nexport type { PopupProps, PopupRef } from './Popup';\nexport * from './type';\nexport const Popup = _Popup;\nexport default Popup;\n","import React, { useMemo } from 'react';\nimport { isObject, isFunction } from 'lodash-es';\nimport useControlled from '../../hooks/useControlled';\nimport { TdSelectInputProps } from '../type';\nimport { TdPopupProps, PopupVisibleChangeContext } from '@/popup';\n\nexport type overlayStyleProps = Pick<\n  TdSelectInputProps,\n  | 'popupProps'\n  | 'autoWidth'\n  | 'readonly'\n  | 'onPopupVisibleChange'\n  | 'disabled'\n  | 'allowInput'\n  | 'popupVisible'\n  | 'defaultPopupVisible'\n>;\n\nconst MAX_POPUP_WIDTH = 1000;\n\nexport default function useOverlayInnerStyle(\n  props: overlayStyleProps,\n  extra?: {\n    afterHidePopups?: (ctx: PopupVisibleChangeContext) => void;\n  },\n) {\n  const {\n    popupProps,\n    autoWidth,\n    readonly,\n    disabled,\n    onPopupVisibleChange,\n    allowInput,\n  } = props;\n  const [innerPopupVisible, setInnerPopupVisible] = useControlled(\n    props,\n    'popupVisible',\n    onPopupVisibleChange,\n  );\n  const matchWidthFunc = (\n    triggerElement: HTMLElement,\n    popupElement: HTMLElement,\n  ) => {\n    if (!triggerElement || !popupElement) {\n      return;\n    }\n\n    const prevDisplay = popupElement.style.display;\n    popupElement.style.display = '';\n    const overlayScrollWidth =\n      popupElement.offsetWidth - popupElement.scrollWidth;\n    const width =\n      popupElement.offsetWidth - overlayScrollWidth > triggerElement.offsetWidth\n        ? popupElement.scrollWidth\n        : triggerElement.offsetWidth - overlayScrollWidth;\n    if (prevDisplay === 'none') {\n      // eslint-disable-next-line no-param-reassign\n      popupElement.style.display = 'none';\n    }\n    let otherOverlayInnerStyle: React.CSSProperties = {};\n    if (\n      popupProps &&\n      typeof popupProps.overlayInnerStyle === 'object' &&\n      !popupProps.overlayInnerStyle.width\n    ) {\n      otherOverlayInnerStyle = popupProps.overlayInnerStyle;\n    }\n    return {\n      width: `${Math.min(width, MAX_POPUP_WIDTH)}px`,\n      ...otherOverlayInnerStyle,\n    };\n  };\n\n  const onInnerPopupVisibleChange = (\n    visible: boolean,\n    context: PopupVisibleChangeContext,\n  ) => {\n    if (disabled || readonly) {\n      return;\n    }\n    // 如果点击触发元素（输入框）且为可输入状态，则继续显示下拉框\n    const newVisible =\n      context.trigger === 'trigger-element-click' && allowInput\n        ? true\n        : visible;\n    if (props.popupVisible !== newVisible) {\n      setInnerPopupVisible(newVisible, context);\n      if (!newVisible) {\n        extra?.afterHidePopup?.(context);\n      }\n    }\n  };\n  const tOverlayInnerStyle = useMemo(() => {\n    let result: TdPopupProps['overlayInnerStyle'] = {};\n    const overlayInnerStyle = popupProps?.overlayInnerStyle || {};\n    if (\n      isFunction(overlayInnerStyle) ||\n      (isObject(overlayInnerStyle) && overlayInnerStyle.width)\n    ) {\n      result = overlayInnerStyle;\n    } else if (!autoWidth) {\n      result = matchWidthFunc;\n    }\n    return result;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [autoWidth, popupProps?.overlayInnerStyle]);\n\n  return {\n    tOverlayInnerStyle,\n    innerPopupVisible,\n    onInnerPopupVisibleChange,\n  };\n}\n","import { TdSelectInputProps } from './type';\n\nexport const selectInputDefaultProps: TdSelectInputProps = {\n  allowInput: false,\n  autoWidth: false,\n  autofocus: false,\n  borderless: false,\n  clearable: false,\n  loading: false,\n  minCollapsedNum: 0,\n  multiple: false,\n  readonly: false,\n  reserveKeyword: false,\n  status: 'default',\n};\n","import React, { useRef, useImperativeHandle } from 'react';\nimport classNames from 'classnames';\nimport useSingle from './hook/useSingle';\nimport useMultiple from './hook/useMultiple';\nimport Popup, { PopupRef, PopupVisibleChangeContext } from '../popup';\nimport useOverlayInnerStyle from './hook/useOverlayInnerStyle';\nimport { TdSelectInputProps } from './type';\nimport { StyledProps } from '../common';\nimport { selectInputDefaultProps } from './defaultProps';\nimport useConfig from '../hooks/useConfig';\nimport useDefaultProps from '../hooks/useDefaultProps';\nimport { InputRef } from '../input';\n\nexport interface SelectInputProps extends TdSelectInputProps, StyledProps {\n  updateScrollTop?: (content: HTMLDivElement) => void;\n  options?: any[]; // 参数穿透options, 给SelectInput/SelectInput 自定义选中项呈现的内容和多选状态下设置折叠项内容\n}\n\nconst SelectInput = React.forwardRef<\n  Partial<PopupRef & InputRef>,\n  SelectInputProps\n>((originalProps, ref) => {\n  const props = useDefaultProps<SelectInputProps>(\n    originalProps,\n    selectInputDefaultProps,\n  );\n  const { classPrefix: prefix } = useConfig();\n  const selectInputRef = useRef<PopupRef>(null);\n  const selectInputWrapRef = useRef<HTMLElement>(null);\n  const { multiple, value, popupVisible, popupProps, borderless, disabled } = props;\n  const {\n    commonInputProps,\n    inputRef,\n    singleInputValue,\n    onInnerClear,\n    renderSelectSingle,\n  } = useSingle(props);\n\n  const { tagInputRef, multipleInputValue, renderSelectMultiple } = useMultiple(props);\n  const { tOverlayInnerStyle, innerPopupVisible, onInnerPopupVisibleChange } =\n    useOverlayInnerStyle(props, {\n      afterHidePopups: onInnerBlur,\n    });\n\n\n  const popupClasses = classNames([\n    props.className,\n    `${prefix}-select-input`,\n    {\n      [`${prefix}-select-input--borderless`]: borderless,\n      [`${prefix}-select-input--multiple`]: multiple,\n      [`${prefix}-select-input--popup-visible`]: popupVisible ?? innerPopupVisible,\n      [`${prefix}-select-input--empty`]:\n        value instanceof Array ? !value.length : !value,\n    },\n  ]);\n  useImperativeHandle(ref, () => ({\n    ...(selectInputRef.current || {}),\n    ...(inputRef.current || {}),\n    ...(tagInputRef.current || {})\n\n  }));\n\n  // 浮层显示的受控与非受控\n  const visibleProps = { visible: popupVisible ?? innerPopupVisible };\n  function onInnerBlur(ctx: PopupVisibleChangeContext) {\n    const inputValue = props.multiple ? multipleInputValue : singleInputValue;\n    const params: Parameters<TdSelectInputProps['onBlur']>[1] = {\n      e: ctx.e,\n      inputValue,\n    };\n    props.onBlur?.(props.value, params);\n  }\n  const mainContent = (\n    <div className={popupClasses} style={props.style}>\n      <Popup\n        ref={selectInputRef}\n        trigger={popupProps?.trigger || 'click'}\n        placement=\"bottom-left\"\n        content={props.panel}\n        hideEmptyPopup={true}\n        onVisibleChange={onInnerPopupVisibleChange}\n        updateScrollTop={props.updateScrollTop}\n        {...visibleProps}\n        {...popupProps}\n        disabled={disabled}\n        overlayInnerStyle={tOverlayInnerStyle}\n      >\n        {multiple\n          ? renderSelectMultiple({\n            commonInputProps,\n            onInnerClear,\n            popupVisible: visibleProps.visible,\n            allowInput: props.allowInput,\n          })\n          : renderSelectSingle(visibleProps.visible)}\n      </Popup>\n    </div>\n  );\n  if (!props.tips) {\n    return mainContent;\n  }\n\n  return (\n    <div ref={selectInputWrapRef} className={`t-select-input__wrap`}>\n      {mainContent}\n      {props.tips && (\n        <div\n          className={`t-input__tips t-input__tips--${props.status || 'normal'}`}\n        >\n          {props.tips}\n        </div>\n      )}\n    </div>\n  );\n});\n\nSelectInput.displayName = 'SelectInput';\n\nexport default SelectInput;\n"],"names":["ESC_KEY","useTrigger","_ref","content","disabled","trigger","visible","onVisibleChange","triggerRef","delay","hasPopupMouseDown","useRef","mouseDownTimer","visibleTimer","triggerDataKey","Math","random","toFixed","leaveFlag","shouldToggle","useMemo","_useMemo","Array","isArray","_useMemo2","_slicedToArray","_useMemo2$","appearDelay","_useMemo2$2","exitDelay","callFuncWithDelay","_ref2","callback","clearTimeout","current","setTimeout","useEffect","handleDocumentClick","e","_getRefDom","_getRefDom$contains","getRefDom","contains","call","target","on","document","off","getPopupProps","onMouseEnter","console","log","onMouseLeave","onMouseDown","window","onTouchEnd","getTriggerProps","triggerNode","triggerProps","className","classNames","props","_triggerNode$props$on","_triggerNode$props","onClick","_triggerNode$props$on2","_triggerNode$props2","onTouchStart","_triggerNode$props$on3","_triggerNode$props3","_triggerNode$props$on4","_triggerNode$props4","_triggerNode$props$on5","_triggerNode$props5","onFocus","_triggerNode$props$on6","_triggerNode$props6","_len","arguments","length","args","_key","apply","concat","onBlur","_triggerNode$props$on7","_triggerNode$props7","_len2","_key2","onContextMenu","_triggerNode$props$on8","_triggerNode$props8","preventDefault","onKeyDown","_triggerNode$props$on9","_triggerNode$props9","key","supportRef","ref","composeRefs","getNodeRef","getTriggerNode","children","isValidElement","isFragment","React","createElement","cloneElement","getTriggerDom","useCallback","querySelector","popupDefaultProps","destroyOnClose","hideEmptyPopup","placement","showArrow","Popup","forwardRef","originalProps","_popperOptions$modifi","useDefaultProps","_useConfig","useConfig","classPrefix","overlayClassName","overlayInnerClassName","overlayStyle","overlayInnerStyle","triggerElement","_props$children","zIndex","onScroll","onScrollToBottom","updateScrollTop","_useWindowSize","useWindowSize","windowHeight","height","windowWidth","width","_useControlled","useControlled","_useControlled2","_useState","useState","_useState2","popupElement","setPopupElement","popupRef","portalRef","contentRef","popperRef","DEFAULT_TRANSITION_TIMEOUT","requestAnimationFrame","showOverlay","popperPlacement","replace","_useTrigger","popperOptions","_ignored","restPopperOptions","_objectWithoutProperties","_excluded","usePopper","_objectSpread","hasArrowModifier","modifiers","some","modifier","name","_popperRef$current","styles","attributes","isFunction","updateTimeRef","useMutationObserver","isDisplayNone","getCssVarsValue","_popperRef$current2","_popperRef$current2$u","update","_popperRef$current3","_popperRef$current3$u","handleExited","style","display","handleEnter","handleScroll","debounceOnScrollBottom","debounce","_e$target","scrollTop","clientHeight","scrollHeight","floor","getOverlayStyle","overlay","CSSTransition","appear","timeout","nodeRef","unmountOnExit","onEnter","onExited","Portal","attach","node","popper","_defineProperty","arrow","useImperativeHandle","getPopper","getPopupElement","getPortalElement","getPopupContentElement","setVisible","Fragment","displayName","_Popup","MAX_POPUP_WIDTH","useOverlayInnerStyle","extra","popupProps","autoWidth","readonly","onPopupVisibleChange","allowInput","innerPopupVisible","setInnerPopupVisible","matchWidthFunc","prevDisplay","overlayScrollWidth","offsetWidth","scrollWidth","otherOverlayInnerStyle","_typeof","min","onInnerPopupVisibleChange","context","newVisible","popupVisible","_extra$afterHidePopup","afterHidePopup","tOverlayInnerStyle","result","isObject","selectInputDefaultProps","autofocus","borderless","clearable","loading","minCollapsedNum","multiple","reserveKeyword","status","SelectInput","prefix","selectInputRef","selectInputWrapRef","value","_useSingle","useSingle","commonInputProps","inputRef","singleInputValue","onInnerClear","renderSelectSingle","_useMultiple","useMultiple","tagInputRef","multipleInputValue","renderSelectMultiple","_useOverlayInnerStyle","afterHidePopups","onInnerBlur","popupClasses","visibleProps","ctx","_props$onBlur","inputValue","params","mainContent","panel","tips"],"mappings":"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"}