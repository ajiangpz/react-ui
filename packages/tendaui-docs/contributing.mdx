import { Meta } from "@storybook/blocks";

<Meta title="æ–‡æ¡£/è´¡çŒ®æŒ‡å—" />

# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢ä½ æœ‰å…´è¶£ä¸º TendaUI åšå‡ºè´¡çŒ®ï¼æœ¬æŒ‡å—å°†å¸®åŠ©ä½ äº†è§£å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘ã€‚

## ğŸŒŸ å‚ä¸æ–¹å¼

ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸º TendaUI åšå‡ºè´¡çŒ®ï¼š

- ğŸ› **æŠ¥å‘Š Bug**ï¼šå‘ç°é—®é¢˜ï¼Ÿè¯·æäº¤ Issue
- ğŸ’¡ **æå‡ºæ–°åŠŸèƒ½**ï¼šæœ‰å¥½çš„æƒ³æ³•ï¼Ÿæˆ‘ä»¬å¾ˆä¹æ„å¬å–
- ğŸ“ **æ”¹è¿›æ–‡æ¡£**ï¼šå¸®åŠ©æˆ‘ä»¬å®Œå–„æ–‡æ¡£
- ğŸ’» **æäº¤ä»£ç **ï¼šä¿®å¤ Bug æˆ–å®ç°æ–°åŠŸèƒ½
- ğŸŒ **å›½é™…åŒ–**ï¼šå¸®åŠ©ç¿»è¯‘æ–‡æ¡£
- â­ **æ¨å¹¿é¡¹ç›®**ï¼šStar é¡¹ç›®ï¼Œåˆ†äº«ç»™æ›´å¤šäºº

## ğŸš€ å¼€å‘æµç¨‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š

- Node.js >= 18.0.0
- pnpm >= 8.0.0

### 2. Fork å¹¶å…‹éš†ä»“åº“

```bash
# Fork ä»“åº“åˆ°ä½ çš„è´¦å·

# å…‹éš†ä½  fork çš„ä»“åº“
git clone https://github.com/YOUR_USERNAME/tendaui.git
cd tendaui

# æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/tendaui/tendaui.git
```

### 3. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
# å¯åŠ¨ Storybook å¼€å‘æœåŠ¡å™¨
pnpm dev:storybook

# å¯åŠ¨ç»„ä»¶å¼€å‘
pnpm dev
```

### 5. åˆ›å»ºåˆ†æ”¯

ä» `main` åˆ†æ”¯åˆ›å»ºæ–°çš„åŠŸèƒ½åˆ†æ”¯ï¼š

```bash
git checkout -b feature/your-feature-name
# æˆ–
git checkout -b fix/your-bug-fix
```

åˆ†æ”¯å‘½åè§„èŒƒï¼š

- `feature/xxx`ï¼šæ–°åŠŸèƒ½
- `fix/xxx`ï¼šBug ä¿®å¤
- `docs/xxx`ï¼šæ–‡æ¡£æ›´æ–°
- `refactor/xxx`ï¼šä»£ç é‡æ„
- `test/xxx`ï¼šæµ‹è¯•ç›¸å…³
- `chore/xxx`ï¼šæ„å»º/å·¥å…·ç›¸å…³

### 6. å¼€å‘

åœ¨ä½ çš„åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œéµå¾ªä»¥ä¸‹è§„èŒƒï¼š

#### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript
- éµå¾ª ESLint é…ç½®
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Š

#### æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```bash
# åŠŸèƒ½
git commit -m "feat: æ·»åŠ æ–°ç»„ä»¶ Dropdown"

# ä¿®å¤
git commit -m "fix: ä¿®å¤ Button ç»„ä»¶åœ¨ Safari ä¸­çš„æ ·å¼é—®é¢˜"

# æ–‡æ¡£
git commit -m "docs: æ›´æ–° Input ç»„ä»¶æ–‡æ¡£"

# æ ·å¼
git commit -m "style: ç»Ÿä¸€ä»£ç æ ¼å¼"

# é‡æ„
git commit -m "refactor: é‡æ„ Form ç»„ä»¶é€»è¾‘"

# æµ‹è¯•
git commit -m "test: æ·»åŠ  Checkbox ç»„ä»¶æµ‹è¯•"

# æ„å»º
git commit -m "chore: æ›´æ–°æ„å»ºé…ç½®"
```

æäº¤ç±»å‹ï¼š

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³
- `revert`: å›æ»š

### 7. æµ‹è¯•

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š

```bash
# è¿è¡Œ ESLint æ£€æŸ¥
pnpm lint

# ä¿®å¤ ESLint é—®é¢˜
pnpm lint:fix

# è¿è¡Œç±»å‹æ£€æŸ¥
pnpm type-check

# è¿è¡Œæµ‹è¯•
pnpm test

# æ„å»ºé¡¹ç›®
pnpm build
```

### 8. æäº¤ Pull Request

```bash
# æ¨é€åˆ°ä½ çš„è¿œç¨‹ä»“åº“
git push origin feature/your-feature-name
```

ç„¶ååœ¨ GitHub ä¸Šåˆ›å»º Pull Requestï¼š

1. è®¿é—®ä½  fork çš„ä»“åº“
2. ç‚¹å‡» "New Pull Request"
3. é€‰æ‹©ä½ çš„åˆ†æ”¯
4. å¡«å†™ PR æ ‡é¢˜å’Œæè¿°
5. æäº¤ PR

#### PR æè¿°æ¨¡æ¿

```markdown
## æè¿°

ç®€è¦æè¿°è¿™ä¸ª PR åšäº†ä»€ä¹ˆ

## ç±»å‹

- [ ] Bug ä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] ä»£ç é‡æ„
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æµ‹è¯•

## å˜æ›´å†…å®¹

- å˜æ›´ç‚¹ 1
- å˜æ›´ç‚¹ 2

## ç›¸å…³ Issue

Fixes #issue_number

## æµ‹è¯•

æè¿°å¦‚ä½•æµ‹è¯•è¿™äº›å˜æ›´

## æˆªå›¾ï¼ˆå¦‚é€‚ç”¨ï¼‰

æ·»åŠ æˆªå›¾è¯´æ˜å˜æ›´æ•ˆæœ

## æ£€æŸ¥æ¸…å•

- [ ] ä»£ç éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
- [ ] å·²æ·»åŠ /æ›´æ–°æµ‹è¯•
- [ ] å·²æ›´æ–°æ–‡æ¡£
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ—  TypeScript é”™è¯¯
```

## ğŸ“¦ ç»„ä»¶å¼€å‘æŒ‡å—

### åˆ›å»ºæ–°ç»„ä»¶

```bash
packages/components/
â””â”€â”€ your-component/
    â”œâ”€â”€ YourComponent.tsx        # ç»„ä»¶å®ç°
    â”œâ”€â”€ YourComponent.stories.tsx # Storybook æ•…äº‹
    â”œâ”€â”€ type.ts                   # ç±»å‹å®šä¹‰
    â”œâ”€â”€ defaultProps.ts          # é»˜è®¤å±æ€§
    â”œâ”€â”€ index.ts                 # å¯¼å‡º
    â”œâ”€â”€ style/                   # æ ·å¼
    â”‚   â”œâ”€â”€ index.js
    â”‚   â””â”€â”€ css.js
    â””â”€â”€ README.md                # ç»„ä»¶æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰
```

### ç»„ä»¶æ¨¡æ¿

```tsx
// YourComponent.tsx
import React, { forwardRef } from "react";
import classNames from "classnames";
import useConfig from "../hooks/useConfig";
import useDefaultProps from "../hooks/useDefaultProps";
import { TdYourComponentProps } from "./type";
import { yourComponentDefaultProps } from "./defaultProps";

export interface YourComponentProps
  extends Omit<React.HTMLAttributes<HTMLDivElement>, "content">,
    TdYourComponentProps {}

const YourComponent = forwardRef<HTMLDivElement, YourComponentProps>((originProps, ref) => {
  const props = useDefaultProps(originProps, yourComponentDefaultProps);
  const { className, children, ...otherProps } = props;
  const { classPrefix } = useConfig();

  return (
    <div ref={ref} className={classNames(`${classPrefix}-your-component`, className)} {...otherProps}>
      {children}
    </div>
  );
});

YourComponent.displayName = "YourComponent";

export default YourComponent;
```

```tsx
// type.ts
import { TNode } from "../common";

export interface TdYourComponentProps {
  /**
   * ç»„ä»¶å†…å®¹
   */
  children?: TNode;
  /**
   * è‡ªå®šä¹‰ç±»å
   */
  className?: string;
  /**
   * å…¶ä»–å±æ€§...
   * @default value
   */
  propName?: string;
}
```

```tsx
// defaultProps.ts
import { TdYourComponentProps } from "./type";

export const yourComponentDefaultProps: TdYourComponentProps = {
  propName: "defaultValue"
};
```

```tsx
// YourComponent.stories.tsx
import { Meta, StoryObj } from "@storybook/react-vite";
import YourComponent from "./YourComponent";

const meta: Meta<typeof YourComponent> = {
  title: "Components/YourComponent",
  component: YourComponent,
  tags: ["autodocs"]
};

export default meta;

type Story = StoryObj<typeof YourComponent>;

export const Default: Story = {
  args: {
    children: "YourComponent Content"
  }
};
```

### ç»„ä»¶å¼€å‘è§„èŒƒ

#### 1. TypeScript ç±»å‹

- æ‰€æœ‰ç»„ä»¶å¿…é¡»æœ‰å®Œæ•´çš„ç±»å‹å®šä¹‰
- ä½¿ç”¨ `interface` å®šä¹‰ Props
- ä¸ºæ¯ä¸ª prop æ·»åŠ  JSDoc æ³¨é‡Š

```tsx
export interface TdButtonProps {
  /**
   * æŒ‰é’®å†…å®¹
   */
  children?: React.ReactNode;
  /**
   * æŒ‰é’®ç±»å‹
   * @default 'button'
   */
  type?: "button" | "submit" | "reset";
}
```

#### 2. æ ·å¼

- ä½¿ç”¨ SCSS ç¼–å†™æ ·å¼
- éµå¾ª BEM å‘½åè§„èŒƒ
- ä½¿ç”¨è®¾è®¡è§„èŒƒä¸­çš„ CSS å˜é‡

```scss
// button.scss
.#{$prefix}-button {
  padding: var(--td-spacing-2) var(--td-spacing-4);
  font-size: var(--td-font-size-base);
  border-radius: var(--td-border-radius-default);

  &--theme-primary {
    background: var(--td-brand-color);
    color: white;
  }

  &__icon {
    margin-right: var(--td-spacing-1);
  }
}
```

#### 3. æ— éšœç¢

- æ·»åŠ é€‚å½“çš„ ARIA å±æ€§
- æ”¯æŒé”®ç›˜å¯¼èˆª
- æä¾›å¿…è¦çš„è¯­ä¹‰åŒ–æ ‡ç­¾

```tsx
<button aria-label="å…³é—­" aria-disabled={disabled} role="button" tabIndex={0}>
  å…³é—­
</button>
```

#### 4. æµ‹è¯•

- ä¸ºç»„ä»¶ç¼–å†™å•å…ƒæµ‹è¯•
- æµ‹è¯•å„ç§ props ç»„åˆ
- æµ‹è¯•ç”¨æˆ·äº¤äº’

```tsx
import { render, fireEvent } from "@testing-library/react";
import Button from "./Button";

describe("Button", () => {
  it("renders correctly", () => {
    const { getByText } = render(<Button>Click me</Button>);
    expect(getByText("Click me")).toBeInTheDocument();
  });

  it("handles click event", () => {
    const handleClick = jest.fn();
    const { getByText } = render(<Button onClick={handleClick}>Click me</Button>);
    fireEvent.click(getByText("Click me"));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });
});
```

## ğŸ“ æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç»“æ„

```
packages/tendaui-docs/
â”œâ”€â”€ introduction.mdx         # ç»„ä»¶åº“ä»‹ç»
â”œâ”€â”€ getting-started.mdx      # å¿«é€Ÿå¼€å§‹
â”œâ”€â”€ design-tokens.mdx        # è®¾è®¡è§„èŒƒ
â”œâ”€â”€ contributing.mdx         # è´¡çŒ®æŒ‡å—
â””â”€â”€ components/              # ç»„ä»¶æ–‡æ¡£
    â”œâ”€â”€ button.mdx
    â”œâ”€â”€ input.mdx
    â””â”€â”€ ...
```

### æ–‡æ¡£ç¼–å†™è§„èŒƒ

å‚è€ƒ [æ–‡æ¡£ç¼–å†™è§„èŒƒ](./README.md)ã€‚

## ğŸ› æŠ¥å‘Š Bug

æäº¤ Bug æ—¶ï¼Œè¯·åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

1. **Bug æè¿°**ï¼šæ¸…æ™°æè¿°é‡åˆ°çš„é—®é¢˜
2. **å¤ç°æ­¥éª¤**ï¼šè¯¦ç»†çš„å¤ç°æ­¥éª¤
3. **æœŸæœ›è¡Œä¸º**ï¼šä½ æœŸæœ›å‘ç”Ÿä»€ä¹ˆ
4. **å®é™…è¡Œä¸º**ï¼šå®é™…å‘ç”Ÿäº†ä»€ä¹ˆ
5. **ç¯å¢ƒä¿¡æ¯**ï¼š
   - TendaUI ç‰ˆæœ¬
   - React ç‰ˆæœ¬
   - æµè§ˆå™¨å’Œç‰ˆæœ¬
   - æ“ä½œç³»ç»Ÿ
6. **ä»£ç ç¤ºä¾‹**ï¼šæä¾›æœ€å°å¤ç°ä»£ç 
7. **æˆªå›¾/å½•å±**ï¼šå¦‚æœé€‚ç”¨

## ğŸ’¡ æå‡ºæ–°åŠŸèƒ½

æå‡ºæ–°åŠŸèƒ½æ—¶ï¼Œè¯·è¯´æ˜ï¼š

1. **åŠŸèƒ½æè¿°**ï¼šè¯¦ç»†æè¿°æ–°åŠŸèƒ½
2. **ä½¿ç”¨åœºæ™¯**ï¼šä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªåŠŸèƒ½
3. **API è®¾è®¡**ï¼šå»ºè®®çš„ API è®¾è®¡
4. **æ›¿ä»£æ–¹æ¡ˆ**ï¼šæ˜¯å¦æœ‰å…¶ä»–è§£å†³æ–¹æ¡ˆ
5. **ç¤ºä¾‹ä»£ç **ï¼šæœŸæœ›çš„ä½¿ç”¨æ–¹å¼

## ğŸ“‹ ä»£ç å®¡æŸ¥

PR æäº¤åï¼Œç»´æŠ¤è€…ä¼šè¿›è¡Œä»£ç å®¡æŸ¥ã€‚è¯·ï¼š

- åŠæ—¶å›åº”å®¡æŸ¥æ„è§
- ä¿æŒç¤¼è²Œå’Œå¼€æ”¾çš„æ€åº¦
- æ ¹æ®åé¦ˆä¿®æ”¹ä»£ç 

## âš–ï¸ è¡Œä¸ºå‡†åˆ™

- å°Šé‡æ‰€æœ‰è´¡çŒ®è€…
- æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒç†å¿ƒ

## ğŸ™‹ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœä½ åœ¨è´¡çŒ®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

- æŸ¥çœ‹[æ–‡æ¡£](https://your-docs-site.com)
- åœ¨ [GitHub Discussions](https://github.com/tendaui/tendaui/discussions) æé—®
- åŠ å…¥æˆ‘ä»¬çš„[ç¤¾åŒºç¾¤](https://your-community-link.com)

---

<div
  style={{
    padding: "24px",
    background: "#f0f9ff",
    border: "1px solid #91caff",
    borderRadius: "8px",
    marginTop: "48px"
  }}
>
  <h3 style={{ marginTop: 0 }}>æ„Ÿè°¢ä½ çš„è´¡çŒ®ï¼</h3>
  <p>æ¯ä¸€ä¸ªè´¡çŒ®éƒ½è®© TendaUI å˜å¾—æ›´å¥½ã€‚æˆ‘ä»¬æœŸå¾…ä½ çš„ Pull Requestï¼</p>
</div>
